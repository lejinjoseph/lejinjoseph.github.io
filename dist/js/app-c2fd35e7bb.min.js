var csTimeZone={defaultTz:function(){return localStorage.getItem("csUserTimeZone")||null},createDropDown:function(e){var t=csTimeZone.defaultTz(),a='<select id="csTzSelect" class="show-tick" data-container="#schedule" data-width="fit"\n                                data-live-search="true" data-live-search-placeholder="search timezone"\n                                data-style="btn-outline-cs-blue">\n                            <option value="">select timezone\n                        </option>';moment.tz.names().forEach(function(e){a+=`<option value="${e}" ${t===e?"selected":""}>${e}</option>`}),a+="</select>",$(e).append(a),$("#csTzSelect").selectpicker()},registerEvents:function(e){$("body").on("changed.bs.select","#csTzSelect",function(e){$(this).val()&&(localStorage.setItem("csUserTimeZone",$(this).val()),csTimeZone.convertAllScheduleRows($(this).val()))})},convertAllScheduleRows:function(e){$(".schedule-item").each(function(t,a){var i=$(a).attr("data-ist-date"),n=csTimeZone.convertIstToSelected(i,e),o=$(a).find(".userTzTime");csTimeZone.updateDom(n,o)})},updateDom:function(e,t){if(e.day){var a=e.day+", "+e.time;t.removeClass("noDayChange").addClass("hasDayChange").text(a)}else t.removeClass("hasDayChange").addClass("noDayChange").text(e.time);return t},addDatesToDays:function(e){let t=["sun","mon","tue","wed","thu","fri","sat"];for(let a of e)if(a.date){let e=moment(a.date,"YYYY-MM-DD").tz("Asia/Kolkata");a.sortIndex=e.day(),a.view={day:e.format("ddd"),date:e.format("DD"),ym:e.format("MMM, YYYY")}}else{let e=t.indexOf(a.name);if(e>=0){e=e<moment.tz("Asia/Kolkata").day()?e+7:e;let t=moment.tz("Asia/Kolkata").day(e);a.sortIndex=e,a.date=t.format("YYYY-MM-DD"),a.view={day:t.format("ddd"),date:t.format("DD"),ym:t.format("MMM, YYYY")}}else a.date="missing"}return csTimeZone.sortDays(e),e},sortDays:function(e){return e.sort(function(e,t){return e.sortIndex-t.sortIndex})},formatScheduleISTDateTime:function(e,t){var a=e+" "+t+" +05:30";return moment.parseZone(a,"YYYY-MM-DD hh:mm A ZZ").format()},convertIstToSelected:function(e,t){var a=moment.parseZone(e),i=a.clone().tz(t),n={time:i.format("hh:mm A z")};return a.format("dddd")!=i.format("dddd")&&(n.day=i.format("dddd")),n},minutesDiffFromNow:function(e,t){if(void 0!==t&&"utc"===t){var a=moment.utc(e);return moment.utc().diff(a,"minutes")}var i=moment.tz(e,"Asia/Kolkata");return moment().tz("Asia/Kolkata").diff(i,"minutes")}},csService={url:"http://catholicstreamlive-env.eba-mh2niqse.ap-south-1.elasticbeanstalk.com",languageCount:0,scheduleSrvCompletedCount:0,init:function(e){csService.getLanguanges(),$("body").on("click","#instructions",csService.showGuidelineModal),$("#holyMass").on("change",".showFinishedCheckbox",function(){$(this).is(":checked")?$(".scheduleItemContainer:visible .schedule-item.finishedOrLate").fadeIn(500):$(".scheduleItemContainer:visible .schedule-item.finishedOrLate").fadeOut(500)}),$("body").on("shown.bs.tab",'.daySelection a[data-toggle="tab"]',function(e){var t=$(e.target),a=t.attr("href"),i=t.attr("data-day-date");if($(a).children(".schedule-item:not(.showHide)").length<1){var n=t.attr("data-day-id"),o=t.parents(".tab-pane").attr("data-mass-lang");csService.getSchedule(o,n,a,i,!0)}csService.showTitleDate(i,a),csService.scrollToHolyMass(),csVideo.getLiveStreamCache()})},scrollToHolyMass:function(){$("html, body").animate({scrollTop:$(".fullHeight:visible").offset().top-$("#header").outerHeight()},1e3,"easeInOutExpo")},showUnderMaintanence:function(){$("#schedule, #footer").hide(),$("#maintenanceModal").modal("show")},showGuidelineModal:function(){$("#guidelinesModal").modal("show")},capitalizeString:function(e){return e.replace(/\b\w/g,function(e){return e.toUpperCase()})},getLanguanges:function(){$.get(csService.url+"/getLanguages",function(e){csService.showGuidelineModal(),csService.languageCount=e.length,csService.displayLanguages(e),registerFixedHolyMassTitle()}).fail(function(){console.log("failed to get languages!"),csService.showUnderMaintanence()})},getDays:function(){$.get(csService.url+"/getDays",function(e){days=csTimeZone.addDatesToDays(e),csService.displayDays(days)}).fail(function(){console.log("failed to get days!")})},getSchedule:function(e,t,a,i,n){$.get(csService.url+`/getSchedule/${e}/${t}`,function(e){csService.displaySchedule(e,a,i,n)}).fail(function(){console.log("failed to get schedule!")})},displayLanguages:function(e){var t=!0;$("#langSelection").siblings(".loadingContent").fadeOut(500,function(){$(this).remove(),$.each(e,function(e,a){var i=csService.capitalizeString(a),n=t?"show active":"";$("#langSelection").append(`<li class="nav-item lej-padding">\n                        <a class="nav-link ${n}" href="#${i}Mass" role="tab" data-toggle="tab"\n                            aria-selected="${t}">${i}</a>\n                     </li>`),$("#holyMass").append(`<div id="${i}Mass" data-mass-lang="${a}" role="tabpanel" class="tab-pane fade ${n}">\n                        <ul class="daySelection nav nav-tabs nav-fill" role="tablist">\n                        </ul>\n                        <div class="fullHeight pt-3 pt-md-4">\n                            <h4 class="langDateUserTitle text-center font-weight-bold">\n                                ${i} Holy Mass\n                                <span class="d-none d-md-inline-block px-md-2">-</span>\n                                <span class="scheduleDate d-block d-md-inline-block"></span>                              \n                            </h4>\n                            <div class="tab-content justify-content-center my-3">\n                                <div class="d-flex justify-content-center loadingContent">\n                                    <div class="spinner-grow text-warning" role="status">\n                                        <span class="sr-only">Loading...</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>                        \n                    </div>`),t=!1}),$('[data-toggle="tooltip"]').tooltip(),csService.getDays()})},dayViewHtml:function(e,t){if(t){let t,a;return["mon","tue","wed","thu","fri","sat"].includes(e.name)?(t=e.view.day,a=""):(t=e.displayName,a="text-danger"),`\n                <div class="dayView">\n                    <div class="dayName ${a}">${t}</div>\n                    <div class="dayDate">${e.view.date}</div>\n                    <div class="dayMY">${e.view.ym}</div>\n                </div>\n            `}return e.displayName},displayDays:function(e){$.each($("ul.daySelection"),function(t,a){var i=$(a).parents(".tab-pane").attr("data-mass-lang"),n=$(a).siblings(".fullHeight").find("div.tab-content");$(n).children(".loadingContent").fadeOut(500,function(){$(this).remove();var t=!0;$.each(e,function(e,o){var s=t?"show active":"",l=(o.name+csService.capitalizeString(i)+"Mass").replace(" ","-");if($(a).append(`<li class="nav-item lej-padding">\n                            <a class="nav-link ${s}" href="#${l}" \n                                data-day-id="${o.name}" data-day-date="${o.date}" role="tab" data-toggle="tab">\n                                ${csService.dayViewHtml(o,!0)}\n                            </a>\n                        </li>`),$(n).append(`<div  role="tabpanel" class="tab-pane fade scheduleItemContainer container ${s}" id="${l}">\n                            <div class="d-flex justify-content-center m-5 loadingContent">\n                                <div class="spinner-grow text-danger" role="status">\n                                    <span class="sr-only">Loading...</span>\n                                </div>\n                            </div>\n                            <div class="row schedule-item showHide text-info">\n                                <div class="col-12 offset-md-3 col-md-6 text-center">\n                                    <div class="custom-control custom-switch showFinishedSwitch">\n                                        <input type="checkbox" class="custom-control-input showFinishedCheckbox" id="showFinished">\n                                        <label class="custom-control-label" for="showFinished">Show Finished Holy Masses</label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>`),t){var d=$(a).is(":visible");csService.getSchedule(i,o.name,`#${l}`,o.date,d),csService.showTitleDate(o.date,`#${l}`)}t=!1})})})},showTitleDate:function(e,t){var a=moment(e).format("ddd, DD MMM YYYY");$(t).parents(".fullHeight").find("span.scheduleDate").fadeOut(500,function(){$(this).html(a).fadeIn(500)})},displaySchedule:function(e,t,a,i){$(t).children(".loadingContent").fadeOut(500,function(){$(this).remove();var n=0;e.length<1?$(t).append('<div class="row schedule-item noSchedulesFound">\n                        <div class="col-12 offset-md-2 col-md-8 py-1">\n                            <h4 class="text-danger">Sorry! We could not find any Holy Mass schedules</h4>\n                            <small>Please <a href="http://jyinfopark.in" target="_blank">contact us</a> to add new Holy Mass schedules here.</small>\n                        </div>\n                    </div>'):$.each(e,function(e,o){var s=csVideo.getVideoType(o.link),l=csTimeZone.formatScheduleISTDateTime(a,o.prettyTime),d=csVideo.getScheduleStatusClass(l,s.type,o.link),c=["justStarted","inProgress"].includes(d.class)?"LIVE":"Video";n+="finishedOrLate"===d.class?1:0;var r=i&&"finishedOrLate"!==d.class?"wow fadeInUp":"",u=o.description?`<p>${o.description}</p>`:"",h=d.title?`<small class="float-right float-md-none">${d.title}</small>`:"",m=$('<time class="userTzTime d-inline-block d-md-block float-right float-md-none"></time>');if(csTimeZone.defaultTz()){var v=csTimeZone.convertIstToSelected(l,csTimeZone.defaultTz());m=csTimeZone.updateDom(v,m)}$(t).append(`<div class="row schedule-item ${r} ${d.class}" data-ist-date="${l}">\n                            <div class="col-md-3 py-1">\n                                <time>${o.prettyTime} IST</time>\n                                ${m[0].outerHTML}\n                            </div>\n                            <div class="col-md-7 py-1">\n                                <h4>${o.name}</h4>\n                                ${u}\n                            </div>\n                            <div class="col-md-2 py-1 text-md-right">\n                                <button class="btn btn-sm ${s.btn} watchStream" \n                                    data-video-url="${o.link}"\n                                    data-video-title="${o.name}"\n                                    data-video-type=${s.type}\n                                    data-video-status=${c}\n                                    data-video-time=${d.scheduleTimestamp}>\n                                    <i class="${s.icon} pr-2"></i>${c}\n                                </button>\n                                ${h}\n                            </div>\n                        </div>`)}),n>0&&($(t).find(".showFinishedSwitch").fadeIn(),$(".scheduleItemContainer .schedule-item.finishedOrLate").fadeOut(),$(t).find(".schedule-item").removeClass("wow")),++csService.scheduleSrvCompletedCount,console.log(csService.languageCount,csService.scheduleSrvCompletedCount),csService.scheduleSrvCompletedCount===csService.languageCount&&(console.log("Processing channels to be cached..."),csVideo.processChannelIdsToBeCached())})}},csVideo={testChannelId:"UCxqxxgXZxSwLpPk6pCC_XJA",youtubeApiUrl:"https://www.googleapis.com/youtube/v3/",apiKey:"removedFromHereForSecurityReasons",videoModal:null,timing:{startingSoonLimit:-15,justStartedLimit:5,inProgressLimit:30,channelLiveRefresh:30,videoDetailsRefresh:30,scheduledStartDelayLimit:60,noUpdateLimit:2880},liveVideoCache:{},channelsToBeCached:{live:[],upcoming:[]},channelsPendingRefresh:0,videosToBeRefreshed:{},registerEvents:function(){csVideo.videoModal=$("#videoModal"),$("body").on("click","button.watchStream",csVideo.onWatch),$("#videoModal").on("hidden.bs.modal",csVideo.resetYoutubeModal)},getVideoType:function(e){var t=csVideo.parseUrl(e).hostname;return t.includes("youtube.com")?{type:"youtube",btn:"btn-outline-danger",icon:"fab fa-youtube"}:t.includes("facebook.com")?{type:"facebook",btn:"btn-outline-primary",icon:"fab fa-facebook-square"}:t.includes("instagram.com")?{type:"instagram",btn:"btn-outline-success",icon:"fab fa-instagram"}:{type:"unknown",btn:"btn-outline-warning",icon:"fas fa-tv"}},getScheduleStatusClass:function(e,t,a){var i=csTimeZone.minutesDiffFromNow(e),n=moment.tz(e,"Asia/Kolkata").unix(),o={scheduleTimestamp:n};if("youtube"===t){var s=csVideo.getYoutubeChannelId(a);csVideo.timing.startingSoonLimit,i>=0&&i<=csVideo.timing.inProgressLimit&&csVideo.channelsToBeCached.live.push({channelId:s,scheduleTime:n})}return i<csVideo.timing.startingSoonLimit?$.extend(o,{class:"upComing",title:null}):i>=csVideo.timing.startingSoonLimit&&i<0?$.extend(o,{class:"startingSoon",title:`${Math.abs(i)} mins to go`}):i>=0&&i<=csVideo.timing.justStartedLimit?$.extend(o,{class:"justStarted",title:"just started"}):i>csVideo.timing.justStartedLimit&&i<=csVideo.timing.inProgressLimit?$.extend(o,{class:"inProgress",title:`${Math.abs(i)} mins ago`}):$.extend(o,{class:"finishedOrLate",title:null}),o},validateAndSaveVideosToBeRefreshed:function(e){var t=e.channelKey.streamId,a=csTimeZone.minutesDiffFromNow(e.timestamp,"utc"),i=e.scheduledStartTime?csTimeZone.minutesDiffFromNow(e.scheduledStartTime,"utc"):0,n=e.publishedAt?csTimeZone.minutesDiffFromNow(e.publishedAt,"utc"):0;null!==e.actualEndTime||null===e.actualStartTime&&i>csVideo.timing.scheduledStartDelayLimit||a<csVideo.timing.videoDetailsRefresh||null===e.scheduledStartTime&&null===e.actualStartTime&&a>csVideo.timing.noUpdateLimit&&n>csVideo.timing.noUpdateLimit?(csVideo.videosToBeRefreshed[t]&&delete csVideo.videosToBeRefreshed[t],null!==e.actualStartTime&&null===e.actualEndTime&&csGallery.validateAndVideoToGallery(e)):csVideo.videosToBeRefreshed[t]=e},addToLiveCache:function(e){var t=e.channelKey.channelId,a=e.channelKey.streamId;void 0===csVideo.liveVideoCache[t]&&(csVideo.liveVideoCache[t]={}),"metadata"===a?csVideo.liveVideoCache[t].metadata={title:e.title,timestamp:e.timestamp}:(csVideo.liveVideoCache[t][a]=e,csVideo.validateAndSaveVideosToBeRefreshed(e))},removeFromLiveCache:function(e,t){csVideo.liveVideoCache[e]&&csVideo.liveVideoCache[e][t]&&delete csVideo.liveVideoCache[e][t]},isStreamCacheValid:function(e,t){var a=moment.unix(t);if(csVideo.liveVideoCache[e]){var i=[],n=csVideo.liveVideoCache[e].metadata;for(var o in csVideo.liveVideoCache[e]){var s=csVideo.liveVideoCache[e][o];if("metadata"!==o&&["live","upcoming"].includes(s.liveBroadcastContent)){var l=!s.scheduledStartTime||moment.tz(s.scheduledStartTime,"Asia/Kolkata").isSameOrBefore(a),d=!s.scheduledEndTime||moment.tz(s.scheduledEndTime,"Asia/Kolkata").isAfter(a);l&&d&&i.push(s)}}return i.length?i:n?!(!n||!moment.tz(n.timestamp,"Asia/Kolkata").isAfter(a)):(console.log("Error: missing metadata"),!0)}return!1},getStreamIdFromLiveCache:function(e){if(csVideo.liveVideoCache[e])for(var t in csVideo.liveVideoCache[e])if(console.log(t),"metadata"!==t)return t;return null},getLiveStreamCache:function(){$.get(csService.url+"/liveStreamCache",function(e){e.channels?csVideo.validateAndSaveStreams(e.channels):console.log("No live stream cache found!")}).fail(function(){console.log("failed to get live stream cache!")})},refreshLiveStream:function(e,t){return $.get(csService.url+`/liveStreamRefresh/${e}/${t}`)},refreshVideoDetails:function(e){$.ajax({method:"POST",url:csService.url+"/refreshVideoDetails",contentType:"application/json; charset=UTF-8",dataType:"json",data:JSON.stringify({id:e})}).done(function(e){console.log("video refresh success: "+e)}).fail(function(){console.log("video refresh failed: "+data)})},processChannelIdsToBeCached:function(){for(const e in csVideo.channelsToBeCached)csVideo.channelsPendingRefresh+=csVideo.channelsToBeCached[e].length||0,$.each(csVideo.channelsToBeCached[e],function(t,a){csVideo.isStreamCacheValid(a.channelId,a.scheduleTime)?(console.log("Live video cache already upto date for "+a.channelId),a.status="cached",--csVideo.channelsPendingRefresh):csVideo.refreshLiveStream(a.channelId,e).done(function(e){csVideo.validateAndSaveStreams(e.channels),a.status="refreshed"}).fail(function(){console.log("Cache refresh failed for "+a.channelId),a.status="failed"}).always(function(){--csVideo.channelsPendingRefresh,0===csVideo.channelsPendingRefresh&&(console.log("Processing videos to be refreshed..."),csVideo.processVideoDetailsRefresh())})});0===csVideo.channelsPendingRefresh&&(console.log("Processing videos to be refreshed..."),csVideo.processVideoDetailsRefresh())},processVideoDetailsRefresh:function(){var e=Object.keys(csVideo.videosToBeRefreshed);if(e.length){var t=e.join(",");console.log("videoIds: "+t),csVideo.refreshVideoDetails(t)}},validateAndSaveStreams:function(e){e.sort(function(e,t){var a=e.channelKey.streamId,i=e.channelKey.streamId,n=0;return"metadata"===a?n=-1:"metadata"===i&&(n=1),n}),$.each(e,function(e,t){["live","upcoming"].includes(t.liveBroadcastContent)||"metadata"===t.channelKey.streamId?csVideo.addToLiveCache(t):csVideo.removeFromLiveCache(t.channelKey.channelId,t.channelKey.streamId)})},parseUrl:function(e){var t=document.createElement("a");return t.href=e,t},getYoutubeChannelId:function(e){var t=csVideo.parseUrl(e).pathname,a=t.substr(t.lastIndexOf("/")+1);return a.match(/^(UC|HC)[A-Za-z0-9_\-]+$/i)?a:(console.log("Invalid Channel Id: ",a),null)},getYoutubeLiveStreamUrl:function(e,t,a){var i=csVideo.getYoutubeChannelId(e);if(i){console.log("Detected Channel Id: "+i);var n=`${csVideo.youtubeApiUrl}search?part=snippet&channelId=${i}&type=video&eventType=live&key=${csVideo.apiKey}`;$.get(n,function(t){if(t.items.length){var a=t.items[0].id.videoId;console.log("Live Video Id: ",e);var i=`https://www.youtube.com/embed/${a}?autoplay=1&modestbranding=1&rel=0`;csVideo.loadLiveStream(i)}else csVideo.showChannelBtn(e)}).fail(function(t){console.log("API call failed: ",t),csVideo.showChannelBtn(e)})}else csVideo.showChannelBtn(e)},showYoutubeLive:function(e){var t=`https://www.youtube.com/embed/${e}?autoplay=1&modestbranding=1&rel=0`;csVideo.loadLiveStream(t)},refreshYoutubeLive:function(e,t,a){csVideo.refreshLiveStream(t,"live").done(function(i){csVideo.validateAndSaveStreams(i.channels),csVideo.checkYoutubeLive(e,t,a,!0)}).fail(function(){console.log("failed to get refresh stream!"),csVideo.showChannelBtn(e)})},checkYoutubeLive:function(e,t,a,i){var n=csVideo.isStreamCacheValid(t,a);if(n)if("boolean"==typeof n)console.log("cache valid but no streams"),csVideo.showChannelBtn(e);else{console.log("cache valid and have streams"),console.log(n);var o=n[0];if(o.embeddable){var s=o.channelKey.streamId;csVideo.showYoutubeLive(s)}else console.log("Live Embedding permission denied!!"),csVideo.showChannelBtn(e)}else i?(console.log("Live not found after Refresh!!!"),csVideo.showChannelBtn(e)):(console.log("REFRESHING Data.....!!!!"),csVideo.refreshYoutubeLive(e,t,a))},isYoutubeVideo:function(e){return csVideo.parseUrl(e).hostname.includes("youtube.com")},onWatch:function(e){var t=$(this).attr("data-video-url"),a=$(this).attr("data-video-title"),i=$(this).attr("data-video-type"),n=$(this).attr("data-video-status"),o=$(this).attr("data-video-time");if("youtube"===i&&"LIVE"===n){csVideo.openYoutubeModal(t,a);var s=csVideo.getYoutubeChannelId(t);s?csVideo.checkYoutubeLive(t,s,o,!1):csVideo.showChannelBtn(t)}else window.open(t,"_blank")},loadLiveStream:function(e){$("#videoSpinner").fadeOut(700,function(){$("#videoModal .modal-content").addClass("darkMode"),$("#videoModal .modal-body").append(`\n                <iframe id="ytPlayer" src="${e}" type="text/html" frameborder="0" allowfullscreen>\n            `)})},showChannelBtn:function(e){$("#videoSpinner").fadeOut(700,function(){$("#videoModal #visitChannel").fadeIn(700)})},resetYoutubeModal:function(){$("#videoSpinner").removeAttr("style"),$("#videoModal #ytPlayer").remove(),$("#videoModal .modal-content").removeClass("darkMode"),$("#videoModal #visitChannel").hide(),$("#videoModal #visitChannelName").text(""),$("#videoModal #visitChannelLink").removeAttr("href")},openYoutubeModal:function(e,t){void 0!==t&&$("#videoModal #visitChannelName").text(t),void 0!==e&&$("#videoModal #visitChannelLink").attr("href",e),$("#videoModal #visitChannel").hide(),csVideo.videoModal.modal("show")}},csGallery={glider:null,publishedVideos:{},videoOrderArray:[],searchCardVisible:!0,init:function(){$(".glider-prev, .glider-next").show(),$("#liveGallery").on("click",".thumb:not(.search)",csGallery.thumbnailClicked),csGallery.glider=new Glider(document.querySelector("#liveSlider"),{slidesToShow:"auto",slidesToScroll:"auto",itemWidth:230,draggable:!0,dots:".dots",arrows:{prev:".glider-prev",next:".glider-next"},responsive:[{breakpoint:400,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}}]})},validateAndVideoToGallery:function(e){var t=e.channelKey.channelId,a=e.channelKey.streamId,i=csVideo.liveVideoCache[t].metadata||null,n={channelId:t,channelTitle:i?i.title:"",videoTitle:e.title,thumbnail:e.thumbnail,elapsedMins:csTimeZone.minutesDiffFromNow(e.actualStartTime,"utc")};csGallery.publishedVideos[a]?csGallery.updateVideo(a,n):csGallery.addVideo(a,n)},addVideo:function(e,t){csGallery.searchCardVisible&&(csGallery.init(),csGallery.glider.removeItem(0),csGallery.searchCardVisible=!1);var a=csGallery.createGalleryHtml(e,t);csGallery.glider.addItem(a),csGallery.publishedVideos[e]=t,csGallery.videoOrderArray.push(e)},updateVideo:function(e,t){console.log("Updating gallery video: "+e);var a=csGallery.videoOrderArray.indexOf(e);csGallery.glider.removeItem(a),delete csGallery.publishedVideos[e],csGallery.videoOrderArray.splice(a,1),csGallery.addVideo(e,t)},createGalleryHtml:function(e,t){var a=`<div>\n                        <div class="thumb" data-stream-id="${e}" data-channel-id="${t.channelId}">\n                        <img src="${t.thumbnail}" alt="">\n                        <h5>${t.channelTitle}</h5>\n                        <p>${t.videoTitle}</p>\n                        <p class="live">\n                            <span>LIVE</span>\n                        </p>\n                        </div>\n                    </div>`;return $(a)[0]},thumbnailClicked:function(){var e=$(this).data("streamId");csVideo.openYoutubeModal(),csVideo.showYoutubeLive(e)}};function dayOfWeekAsString(e){return["sun","mon","tue","wed","thu","fri","sat"][e]}jQuery(document).ready(function(e){if(csVideo.getLiveStreamCache(),csService.init(),csVideo.registerEvents(),csTimeZone.registerEvents(),csTimeZone.createDropDown("#timeZones"),e('[data-toggle="tooltip"]').tooltip(),e(window).scroll(function(){e(this).scrollTop()>100?e(".back-to-top").fadeIn("slow"):e(".back-to-top").fadeOut("slow")}),e(".back-to-top").click(function(){return e("html, body").animate({scrollTop:0},1500,"easeInOutExpo"),!1}),e(window).scroll(function(){e(this).scrollTop()>100?e("#header").addClass("header-scrolled"):e("#header").removeClass("header-scrolled")}),e(window).scrollTop()>100&&e("#header").addClass("header-scrolled"),window.matchMedia("(max-width: 767px)").matches&&e("#intro").css({height:e(window).height()}),(new WOW).init(),e("#nav-menu-container").length){var t=e("#nav-menu-container").clone().prop({id:"mobile-nav"});t.find("> ul").attr({class:"",id:""}),e("body").append(t),e("body").prepend('<button type="button" id="mobile-nav-toggle"><i class="fa fa-bars"></i></button>'),e("body").append('<div id="mobile-body-overly"></div>'),e("#mobile-nav").find(".menu-has-children").prepend('<i class="fa fa-chevron-down"></i>'),e(document).on("click",".menu-has-children i",function(t){e(this).next().toggleClass("menu-item-active"),e(this).nextAll("ul").eq(0).slideToggle(),e(this).toggleClass("fa-chevron-up fa-chevron-down")}),e(document).on("click","#mobile-nav-toggle",function(t){e("body").toggleClass("mobile-nav-active"),e("#mobile-nav-toggle i").toggleClass("fa-times fa-bars"),e("#mobile-body-overly").toggle()}),e(document).click(function(t){var a=e("#mobile-nav, #mobile-nav-toggle");a.is(t.target)||0!==a.has(t.target).length||e("body").hasClass("mobile-nav-active")&&(e("body").removeClass("mobile-nav-active"),e("#mobile-nav-toggle i").toggleClass("fa-times fa-bars"),e("#mobile-body-overly").fadeOut())})}else e("#mobile-nav, #mobile-nav-toggle").length&&e("#mobile-nav, #mobile-nav-toggle").hide();e(".nav-menu a, #mobile-nav a, .scrollto").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if(t.length){var a=0;return e("#header").length&&(a=e("#header").outerHeight(),e("#header").hasClass("header-fixed")||(a-=20)),e("html, body").animate({scrollTop:t.offset().top-a},1500,"easeInOutExpo"),e(this).parents(".nav-menu").length&&(e(".nav-menu .menu-active").removeClass("menu-active"),e(this).closest("li").addClass("menu-active")),e("body").hasClass("mobile-nav-active")&&(e("body").removeClass("mobile-nav-active"),e("#mobile-nav-toggle i").toggleClass("fa-times fa-bars"),e("#mobile-body-overly").fadeOut()),!1}}})});var day=dayOfWeekAsString((new Date).getDay());function registerFixedHolyMassTitle(){$(window).scroll(function(){var e=$(".langDateUserTitle:visible");$(".fullHeight:visible").offset().top-$(this).scrollTop()<75?e.addClass("fixed-top"):e.removeClass("fixed-top")})}$("#"+day).addClass("active"),$("#"+day).addClass("show"),$("#"+day+"-link").addClass("active"),$("#"+day+"-link").addClass("show"),$("#"+day+"-link").attr("aria-selected","true");